<!DOCTYPE HTML>
<html>
<head>
	<title>demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<!--支持多设备-->
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
	<link rel="stylesheet" href="css/eleIndex.css">
</head>


<body>



<!-- table -->
<div id="tbDemo">
	<template>
		<el-table :data="tableData" border style="width: 100%" >
			<el-table-column label="日期" width="180">
				<template scope="scope">
					<el-icon name="time"></el-icon>
					<span style="margin-left: 10px">{{ scope.row.date }}</span>
				</template>
			</el-table-column>
			<el-table-column label="姓名" width="180" >
				<template scope="scope" >
					<p  @click='clickCount($event,scope)' >
						<el-form :model="scope.row" ref="scope.row" >
							<el-form-item
									prop="age"
									:rules="[
				  { required: true, message: '名字不能为空'},
				  { type: 'number', message: '年龄必须为数字值'}
				]"
							>
								<el-input v-show="!scope.row.ok" v-on:blur="changeCount(scope.row,'scope.row')" size="small" v-model.number="scope.row.age" style="width:100%"></el-input>
							</el-form-item>
						</el-form>
						<span v-show="scope.row.ok">{{ scope.row.age }}</span>
					</p>
				</template>
			</el-table-column>



			<el-table-column label="操作">
				<template scope="scope">
					<el-button size="small" type="danger" @click="handleDelete(scope.$index, scope.row)">删除</el-button>
				</template>
			</el-table-column>
		</el-table>
	</template>
</div>
<script src="js/jquery.min.js"></script>
<script src="js/vue.js"></script>
<script src="js/eleIndex.js"></script>
<script>



    var tbDemo = new Vue({
        el: "#tbDemo",
        data() {
            return {
                tableData: [{
                    date: '2016-05-02',
                    name: '王小虎',
					age:22,
                    address: '上海市普陀区金沙江路 1518 弄',
                    ok:true
                }, {
                    date: '2016-05-04',
                    name: '王小虎',
                    age:23,
                    address: '上海市普陀区金沙江路 1517 弄',
                    ok:true
                }, {
                    date: '2016-05-01',
                    name: '王小虎',
                    age:24,
                    address: '上海市普陀区金沙江路 1519 弄',
                    ok:true
                }, {
                    date: '2016-05-03',
                    name: '王小虎',
                    age:22,
                    address: '上海市普陀区金沙江路 1516 弄',
                    ok:true
                }]
		
            }
        },

        methods: {
            clickCount(event,flag) {
                var target = $(event.target);
                if(target.find("div").is(":hidden")&&!$(".el-form-item__error").length){
                    flag.row.ok=false;
                    target.find("div").show();
                    target.find('input').focus();
                }
            },
            
            changeCount: function(flag,formName) {
                if(!$(".el-form-item__error").length){
                        flag.ok=true;
						
						后台
                }


            }
        }

    });



</script>
</body>
</html>










